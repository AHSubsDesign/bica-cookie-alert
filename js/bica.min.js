var bica=function(t,n,o,e,i){function a(){if(7!=g.bgColor.length)return s(["HEX too short",g.bgColor],"error"),g.bgColor;var t=c(g.bgColor);return t.push(g.bgOpacity),"rgba("+t.join(",")+")"}function r(){var n=t('script[src*="'+e+'"]')[0].src;return n.substr(0,n.lastIndexOf("js/"))}function s(t,o){o=o||"info",t="["+e.toUpperCase()+"]: "+t,n.console&&n.console[o]?console[o](t):alert(t)}function c(t){var n=parseInt(t.substring(1),16),o=(16711680&n)>>16,e=(65280&n)>>8,i=255&n;return[o,e,i]}function l(t){var n=new Date;n.setTime(n.getTime()+864e5*t.days),o.cookie=t.name+"="+t.value+"; expires="+n.toUTCString()+"; path=/"}function d(t){var n=o.cookie.split(";");t+="=";for(var e=0;e<n.length;e++){for(var a=n[e];" "==a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return i}var f,u=t(n),g={},b={initialized:!1,defaultLang:"en",translations:{},root:r(),cookie:{name:e,value:"is_approved",days:"730"},minFontSize:12},h={style:"inline",txtColor:"#000",btnTxtColor:"#fff",btnBgBackgrund:"#666",bgColor:"#ffffff",bgOpacity:.9,lang:o.documentElement.lang||b.defaultLang,showAfter:1200,useStylesheet:!0,infoUrl:i},v=function(){},m=function(n){return b.initialized?s("Re-init not allowed"):(g=t.extend({},h,n),void(d(b.cookie.name)!=b.cookie.value?u.trigger("bica-ready"):v()))},p=function(){t.getJSON(b.root+"i18n/"+g.lang+".json",function(t){b.translations=t[g.lang],"OK"==t.status?u.trigger("bica-trans-loaded"):s("Translation jsonâ€™s not-well-formatted")})},y=function(){g.useStylesheet&&(o.createStyleSheet?o.createStyleSheet(b.root+"css/cookie.css"):t("head").append(t('<link rel="stylesheet" type="text/css"/>').attr("href",b.root+"css/cookie.css"))),f=t("<div/>",{id:e,"class":e}).css({background:a(),color:g.txtColor}).load(b.root+"/view/disclaimer.html",function(){u.trigger("bica-view-loaded")}).prependTo("body")},k=function(){t("[data-trans]").each(function(){this.innerHTML=b.translations[this.attributes["data-trans"].value]})},C=function(){f.find('[data-action="dismiss"]').on("click",function(){f.fadeOut("fast"),l(b.cookie)}),f.find('[data-action="info"]').on("click",function(){n.location.href=g.infoUrl})},S=function(){f.addClass(e+"-"+g.style),f.find('[data-role="button"]').css({color:g.btnTxtColor,background:g.btnBgBackgrund}),g.infoUrl===i&&f.find('[data-action="info"]').remove(),f.css({fontSize:Math.max(parseInt(f.css("fontSize"),10),b.minFontSize)})};return u.on("bica-ready",function(){b.initialized=!0,p()}),u.on("bica-trans-loaded",y),u.on("bica-view-loaded",function(){C(),S(),k(),f.delay(g.showAfter).slideDown("medium")}),{init:m,destroy:v}}(jQuery,window,document,"bica");